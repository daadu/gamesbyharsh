function sub(e){var t=getCookie("uname");var n=window.prompt("Name : ",t);setCookie("uname",n,1);if(n){var r=window.confirm("Submit?");if(r){var i=new XMLHttpRequest;i.open("GET","/submit?u="+n+"&s="+e,true);i.send()}}ref2=window.setTimeout(refr,2e3);reset()}function reset(){marks=[];scores=[];shot=1}function setCookie(e,t,n){var r=new Date;r.setDate(r.getDate()+n);var i=escape(t)+(n==null?"":"; expires="+r.toUTCString());document.cookie=e+"="+i}function getCookie(e){var t=document.cookie;var n=t.indexOf(" "+e+"=");if(n==-1){n=t.indexOf(e+"=")}if(n==-1){t=null}else{n=t.indexOf("=",n)+1;var r=t.indexOf(";",n);if(r==-1){r=t.length}t=unescape(t.substring(n,r))}return t}function sco(e){var t=0;if(e<=24){t=10}else if(e<=50)t=9;else if(e<=76)t=8;else if(e<=102)t=7;else if(e<=128)t=6;else if(e<=155)t=5;else if(e<=179)t=4;else if(e<=206)t=3;else if(e<=232)t=2;else if(e<=258)t=1;return t}function calcen(e,t,n){var r=e.width;var i=e.height;var s=t+width/2;var o=n+height/2;s=s-r/2;o=o-i/2;return[s,o]}function dumpcen(e,t,n){var r=calcen(e,t,n);co.drawImage(e,r[0],r[1],e.width,e.height)}function rans(){var e=Math.random();if(e>=.5)return 1;else return-1}function an(){if(shot<=6){c.width=width;dumpcen(back,0,0);ranx=rans()*Math.random()*width/2;rany=rans()*Math.random()*height/2;for(var e=0;e<marks.length;e++)dumpcen(mark,marks[e][0],marks[e][1]);dumpcen(dot,ranx,rany)}else{window.clearInterval(ref);sub(score);co.font="75px Sans-Serif";var t=co.createLinearGradient(0,0,c.width,0);t.addColorStop("0","red");co.fillStyle=t;co.fillText("Your SCORE : "+score,0,300);score=0;for(var e=1;e<=6;e++){var n=document.getElementById(e+"");n.innerHTML="âŠ—"}}}function refr(){window.clearTimeout(ref2);ref=window.setInterval(an,1e3/3)}var height=600;var width=600;var ranx;var rany;var marks=[];var scores=[];var shot=1;var score=0;var c=document.getElementById("canvas");c.width=width;c.height=height;var co=c.getContext("2d");var back=new Image;back.src="/static/target.png";back.width=570;back.height=570;var dot=new Image;dot.src="/static/red.png";dot.width=25;dot.height=25;var mark=new Image;mark.src="/static/bullet.png";mark.width=60;mark.height=60;document.onkeypress=function(e){var e=window.event||e;if(e.charCode===32){window.clearInterval(ref);if(shot<=6){var t=Math.pow(Math.pow(ranx,2)+Math.pow(rany,2),.5);scores[scores.length]=sco(t);score+=sco(t);marks[marks.length]=[ranx,rany];dumpcen(mark,ranx,rany);refr();shot++;var n=document.getElementById("score");var r=document.getElementById(shot-1+"");r.innerHTML=sco(t)+""}}};var ref;var ref2;window.onload=refr;